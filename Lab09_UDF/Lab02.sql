CREATE FUNCTION DBO.GETAGEGROUP(@BIRTHDATE AS DATE)
RETURNS VARCHAR(20)
AS
BEGIN
DECLARE @AGE AS INT
SET @AGE=DATEDIFF(YEAR,@BIRTHDATE,GETDATE())

DECLARE @RESULT AS VARCHAR(20)
IF @AGE<20
	SET @RESULT='20 DEN KÜÇÜK'
IF @AGE BETWEEN 20 AND 30 
	SET @RESULT='20-30 ARASI'
IF @AGE BETWEEN 31 AND 40 
	SET @RESULT='31-40 ARASI'
IF @AGE >40
	SET @RESULT='40 TAN BÜYÜK'

RETURN @RESULT 
END

SELECT *,
DBO.GETAGE(BIRTHDATE) AGE,DBO.GETAGEGROUP(BIRTHDATE) AGEGROUP
FROM LAB_PLAYER
 
